<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sebo & Livraria O Alfarrábio/Produtos</title>
    <link rel="stylesheet" href="css/style.css">
    <style>
      .produtos-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 20px; }
      .produto-card { border: 1px solid #ddd; border-radius: 8px; overflow: hidden; text-align: center; }
      .produto-card img { max-width: 100%; height: 200px; object-fit: cover; }
      .produto-card h3 { margin: 10px 0; }
      .produto-card p { font-weight: bold; color: #0056b3; }
      .produto-card button { background: #007bff; color: white; border: none; padding: 10px 15px; cursor: pointer; width: 100%; }
      .carrinho-resumo { margin-top: 40px; padding: 20px; border: 2px solid #007bff; border-radius: 8px; }
  </style>
</head>
<body>
    <header>
        <img src="img/logo2.png" alt="Logo" class="logo">
        <nav>
          <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="produtos.html">Produtos</a></li>
            <li><a href="sobre.html">Sobre</a></li>
            <li><a href="contato.html">Contato</a></li>
          </ul>
        </nav>
        
      </header>
    <!-- Control buttons -->
<div id="myBtnContainer">
    <div class="categorias-p">
    <div class="item-p" onclick="filterSelection('todos')"><h2>Todos</h2></div>
    <div class="item-p" onclick="filterSelection('romance')"><img src="img/romance.png"><h4>Romance</h4></div>
    <div class="item-p" onclick="filterSelection('fantasia')"><img src="img/fantasia.png"><h4>Fantasia</h4></div>
    <div class="item-p" onclick="filterSelection('ficcao-cientifica')"><img src="img/ficcao.png"><h4>Ficção-Cientifica</h4></div>
    <div class="item-p" onclick="filterSelection('terror')"><img src="img/terror.png"><h4>Terror</h4></div>
    </div>
</div>
  
  <!-- The filterable elements. Note that some have multiple class names (this can be used if they belong to multiple categories) -->
  <div class="container-p">
    <div class="filterDiv terror">  <div class="card-livro-p">
        <figure>
            <img src="img/livro 1.jpg">
        
        </figure>
        <a href=""><p class="saiba-mais">Saiba Mais</p></a>
        </div></div>
    <div class="filterDiv auto-ajuda ficcao-cientifica">  <div class="card-livro-p">
        <figure>
        <img src="img/livro 2.jpg">
         
        </figure>
        <a href=""><p class="saiba-mais">Saiba Mais</p></a>
        </div></div>
    <div class="filterDiv romance">  <div class="card-livro-p">
        <figure>
            <img src="img/livro 3.jpg">
          
        </figure>
        <a href=""><p class="saiba-mais">Saiba Mais</p></a>
        </div></div>
    <div class="filterDiv romance">  <div class="card-livro-p">
        <figure>
            <img src="img/livro 4.jpg">
         
        </figure>
        <a href=""><p class="saiba-mais">Saiba Mais</p></a>
        </div></div>
    <div class="filterDiv romance">  <div class="card-livro-p">
        <figure>
            <img src="img/livro 5.jpg">
          
        </figure>
        <a href=""><p class="saiba-mais">Saiba Mais</p></a>
        </div></div>
    <div class="filterDiv romance">  <div class="card-livro-p">
        <figure>
        <img src="img/livro 6.jpg">
        
        </figure>
        <a href=""><p class="saiba-mais">Saiba Mais</p></a>
        </div></div>
    <div class="filterDiv romance">  <div class="card-livro-p">
        <figure>
        <img src="img/livro 7.jpg">
         
        </figure>
        <a href=""><p class="saiba-mais">Saiba Mais</p></a>
        </div></div>
    <div class="filterDiv terror">  <div class="card-livro-p">
        <figure>
        <img src="img/livro 8.jpg">
          
        </figure>
        <a href=""><p class="saiba-mais">Saiba Mais</p></a>
        </div></div>

        <div class="filterDiv romance">  <div class="card-livro-p">
          <figure>
          <img src="img/livro9.jpg">
            
      </figure>
      <a href=""><p class="saiba-mais">Saiba Mais</p></a>
      </div></div>

      <div class="filterDiv romance">  <div class="card-livro-p">
      <figure>
      <img src="img/livro10.jpg">
             
      </figure>
     <a href=""><p class="saiba-mais">Saiba Mais</p></a>
     </div></div>
            
      <div class="filterDiv romance fantasia">  <div class="card-livro-p">
      <figure>
      <img src="img/livro11.jpg">
               
      </figure>
       <a href=""><p class="saiba-mais">Saiba Mais</p></a>
       </div></div>

        <div class="filterDiv romance">  <div class="card-livro-p">
        <figure>
        <img src="img/livro12.jpg">
                 
       </figure>
       <a href=""><p class="saiba-mais">Saiba Mais</p></a>
       </div></div>

        <div class="filterDiv fantasia romance">  <div class="card-livro-p">
         <figure>
        <img src="img/livro13.jpg">
                 
        </figure>
        <a href=""><p class="saiba-mais">Saiba Mais</p></a>
        </div></div>
                  

        <div class="filterDiv fantasia">  <div class="card-livro-p">
        <figure>
         <img src="img/livro14.jpg">
                      
          </figure>
           <a href=""><p class="saiba-mais">Saiba Mais</p></a>
          </div></div>

          <div class="filterDiv fantasia">  <div class="card-livro-p">
          <figure>
          <img src="img/livro15.jpg">
                       
                      <a href=""><p class="saiba-mais">Saiba Mais</p></a>
                      </div></div>

                      <div class="filterDiv fantasia">  <div class="card-livro-p">
                        <figure>
                        <img src="img/livro16.jpg">
                          
                        </figure>
                        <a href=""><p class="saiba-mais">Saiba Mais</p></a>
                        </div></div>

                        <div class="filterDiv fantasia romance">  <div class="card-livro-p">
                          <figure>
                          <img src="img/livro17.jpg">
                           
                          </figure>
                          <a href=""><p class="saiba-mais">Saiba Mais</p></a>
                          </div></div>

                          <div class="filterDiv fantasia">  <div class="card-livro-p">
                            <figure>
                            <img src="img/livro18.jpg">
                            
                            </figure>
                            <a href=""><p class="saiba-mais">Saiba Mais</p></a>
                            </div></div>

                            <div class="filterDiv romance fantasia">  <div class="card-livro-p">
                              <figure>
                              <img src="img/livro19.jpg">
                            
                              </figure>
                              <a href=""><p class="saiba-mais">Saiba Mais</p></a>
                              </div></div>

                              <div class="filterDiv romance fantasia">  <div class="card-livro-p">
                                <figure>
                                <img src="img/livro20.jpg">
                                
                                </figure>
                                <a href=""><p class="saiba-mais">Saiba Mais</p></a>
                                </div></div>

                                <div class="filterDiv terror romance">  <div class="card-livro-p">
                                  <figure>
                                  <img src="img/livro21.jpg">
                                   
                                  </figure>
                                  <a href=""><p class="saiba-mais">Saiba Mais</p></a>
                                  </div></div>

                                  <div class="filterDiv terror romance">  <div class="card-livro-p">
                                    <figure>
                                    <img src="img/livro22.jpg">
                                    </figure>
                                    <a href=""><p class="saiba-mais">Saiba Mais</p></a>
                                    </div></div>

                                    <div class="filterDiv terror">  <div class="card-livro-p">
                                      <figure>
                                      <img src="img/livro23.jpg">
                                      </figure>
                                      <a href=""><p class="saiba-mais">Saiba Mais</p></a>
                                      </div></div>

                                      <div class="filterDiv terror">  <div class="card-livro-p">
                                        <figure>
                                        <img src="img/livro24.jpg">
                                        </figure>
                                        <a href=""><p class="saiba-mais">Saiba Mais</p></a>
                                        </div></div>

                                        <div class="filterDiv terror">  <div class="card-livro-p">
                                          <figure>
                                          <img src="img/livro25.jpg">
                                          </figure>
                                          <a href=""><p class="saiba-mais">Saiba Mais</p></a>
                                          </div></div>
  </div>

  <script src="js/produtos.js"></script>
    <footer class="footer">
    <div class="container-footer">
      <div class="footer-nome">
        <img src="img/logo2.png" alt="Logo" class="logo-footer">
        <h3>O Alfarrábio</h3>
      </div>

      <div>
        <div class="links">
          <h4>Links</h4>
          <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="produtos.html">Produtos</a></li>
          <li><a href="sobre.html">Sobre</a></li>
          <li><a href="contato.html">Contato</a></li>
          </ul>
        </div>
      </div>

      <div>
        <div class="footer-section">
      <h4>Entre em contato</h4>
      <p>contato@Oalfarrábio.com.br</p>
      <p>São Miguel Paulista, São Paulo - SP</p>
      <p>+55 (11) 93277-2737</p>
      <p>+55 (11) 97317-8024</p>
      </div>

      <div class=" footer-section footer-redes">
        <h4 class="h4">Redes Sociais</h4>
        <a href=""><img src="img/instagram-with-circle-svgrepo-com.svg" alt="Instagram"></a>
        <a href=""><img src="img/amazon-svgrepo-com.svg" alt="Amazon"></a>
      </div>

      <div class="footer-bottom">
        <p>&copy; 2025 Sebo & Livraria O Alfarrábio | contato@Oalfarrábio.com.br</p>
      </div>

    </div>

  </footer>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
        console.log('Cheguei')
        const container = document.querySelector('.servicos__lista');
        if(!container) return;
        container.innerHTML = '<h3>Carregando serviços...</h3>';
        fetch('/backend/api/servicos')
        .then(response => {
            if (!response.ok) {
                throw new Error('Falha ao carregar dados da rede. ')
            }
            return response.json();
        })
        .then(json => {
            console.log(json);
            if(json.status !== 'success' || !json.data) {
                throw new Error('API retornou um erro: ' + (json.message || 'Formato inválido'));
            }
            container.innerHTML = '';
            json.data.forEach(servico => {
                console.log(servico);
                const cardHtml = `
                <div class="card" data-service="${servico.nome_servico.toLowerCase()}">
                    <div class="card__frente" style="background-image: url('${servico.caminho_imagem}');">
                        <h3 class="card__titulo">${servico.nome_servico.topUpperCase()}</h3>
                    </div>
                        <div class="card__verso">
                            <h3 class="card__titulo--verso">${servico.nome_servico.toUpperCase()}</h3>
                            <p class="card__descricao">${servico.descricao_servico}</p>
                            </div>
                        </div>
                `;
                container.insertAdjacentHTML('beforeend', cardHtml);
            })
        })
        .catch(error => {
            console.error('Erro ao buscar serviços:', error);
            container.innerHTML = '<p style="color: red;">Não foi possivel carregar os serviços no momento. Tente novamente mais tarde.</p>';
        });
    });
</script>

</body>
</html>